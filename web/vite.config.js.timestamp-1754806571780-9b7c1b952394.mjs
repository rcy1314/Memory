// vite.config.js
import { defineConfig, loadEnv } from "file:///Library/Github/Memory/web/node_modules/vite/dist/node/index.js";

// build/utils.js
import path from "path";
import dotenv from "file:///Library/Github/Memory/web/node_modules/dotenv/lib/main.js";
function getRootPath() {
  return path.resolve(process.cwd());
}
function getSrcPath(srcName = "src") {
  return path.resolve(getRootPath(), srcName);
}
function convertEnv(envOptions) {
  const result = {};
  if (!envOptions) return result;
  for (const envKey in envOptions) {
    let envVal = envOptions[envKey];
    if (["true", "false"].includes(envVal)) envVal = envVal === "true";
    if (["VITE_PORT"].includes(envKey)) envVal = +envVal;
    result[envKey] = envVal;
  }
  return result;
}

// build/config/define.js
import dayjs from "file:///Library/Github/Memory/web/node_modules/dayjs/dayjs.min.js";
var _BUILD_TIME_ = JSON.stringify(dayjs().format("YYYY-MM-DD HH:mm:ss"));
var viteDefine = {
  _BUILD_TIME_
};

// build/plugin/index.js
import vue from "file:///Library/Github/Memory/web/node_modules/@vitejs/plugin-vue/dist/index.mjs";
import Unocss from "file:///Library/Github/Memory/web/node_modules/unocss/dist/vite.mjs";
import { visualizer } from "file:///Library/Github/Memory/web/node_modules/rollup-plugin-visualizer/dist/plugin/index.js";
import viteCompression from "file:///Library/Github/Memory/web/node_modules/vite-plugin-compression/dist/index.mjs";
import viteImagemin from "file:///Library/Github/Memory/web/node_modules/vite-plugin-imagemin/dist/index.mjs";

// build/plugin/html.js
import { createHtmlPlugin } from "file:///Library/Github/Memory/web/node_modules/vite-plugin-html/dist/index.mjs";
function configHtmlPlugin(viteEnv, isBuild) {
  const { VITE_TITLE } = viteEnv;
  const htmlPlugin = createHtmlPlugin({
    minify: isBuild,
    inject: {
      data: {
        title: VITE_TITLE
      }
    }
  });
  return htmlPlugin;
}

// build/plugin/unplugin.js
import { resolve } from "path";
import AutoImport from "file:///Library/Github/Memory/web/node_modules/unplugin-auto-import/dist/vite.js";
import Components from "file:///Library/Github/Memory/web/node_modules/unplugin-vue-components/dist/vite.mjs";
import { NaiveUiResolver } from "file:///Library/Github/Memory/web/node_modules/unplugin-vue-components/dist/resolvers.mjs";
import { FileSystemIconLoader } from "file:///Library/Github/Memory/web/node_modules/unplugin-icons/dist/loaders.mjs";
import IconsResolver from "file:///Library/Github/Memory/web/node_modules/unplugin-icons/dist/resolver.mjs";
import Icons from "file:///Library/Github/Memory/web/node_modules/unplugin-icons/dist/vite.mjs";
import { createSvgIconsPlugin } from "file:///Library/Github/Memory/web/node_modules/vite-plugin-svg-icons/dist/index.mjs";
var customIconPath = resolve(getSrcPath(), "assets/svg");
var unplugin_default = [
  AutoImport({
    imports: ["vue", "vue-router"],
    dts: false
  }),
  Icons({
    compiler: "vue3",
    customCollections: {
      custom: FileSystemIconLoader(customIconPath)
    },
    scale: 1,
    defaultClass: "inline-block"
  }),
  Components({
    resolvers: [
      NaiveUiResolver(),
      IconsResolver({ customCollections: ["custom"], componentPrefix: "icon" })
    ],
    dts: false
  }),
  createSvgIconsPlugin({
    iconDirs: [customIconPath],
    symbolId: "icon-custom-[dir]-[name]",
    inject: "body-last",
    customDomId: "__CUSTOM_SVG_ICON__"
  })
];

// build/plugin/index.js
function createVitePlugins(viteEnv, isBuild) {
  const plugins = [vue(), ...unplugin_default, configHtmlPlugin(viteEnv, isBuild), Unocss()];
  if (viteEnv.VITE_USE_COMPRESS) {
    plugins.push(viteCompression({ algorithm: viteEnv.VITE_COMPRESS_TYPE || "gzip" }));
  }
  if (isBuild) {
    plugins.push(
      visualizer({
        open: true,
        gzipSize: true,
        brotliSize: true
      }),
      // 图片压缩插件
      viteImagemin({
        gifsicle: { optimizationLevel: 7, interlaced: false },
        mozjpeg: { quality: 80 },
        pngquant: { quality: [0.65, 0.8], speed: 4 },
        webp: { quality: 75 }
      })
    );
  }
  return plugins;
}

// build/constant.js
var OUTPUT_DIR = "../dist";
var PROXY_CONFIG = {
  "/api/v1": {
    target: "http://127.0.0.1:9999",
    changeOrigin: true
  }
};

// vite.config.js
var vite_config_default = defineConfig(({ command, mode }) => {
  const srcPath = getSrcPath();
  const rootPath = getRootPath();
  const isBuild = command === "build";
  const env = loadEnv(mode, process.cwd());
  const viteEnv = convertEnv(env);
  const { VITE_PORT, VITE_PUBLIC_PATH, VITE_USE_PROXY, VITE_BASE_API } = viteEnv;
  return {
    base: VITE_PUBLIC_PATH || "/",
    resolve: {
      alias: {
        "~": rootPath,
        "@": srcPath
      }
    },
    define: viteDefine,
    plugins: createVitePlugins(viteEnv, isBuild),
    server: {
      host: "0.0.0.0",
      port: VITE_PORT,
      open: true,
      proxy: VITE_USE_PROXY ? {
        [VITE_BASE_API]: PROXY_CONFIG[VITE_BASE_API]
      } : void 0
    },
    css: {
      preprocessorOptions: {
        scss: {
          api: "modern-compiler"
          // 使用现代编译器API
        }
      }
    },
    build: {
      target: "es2015",
      outDir: OUTPUT_DIR || "dist",
      reportCompressedSize: false,
      // 启用/禁用 gzip 压缩大小报告
      chunkSizeWarningLimit: 1024
      // chunk 大小警告的限制（单位kb）
    }
  };
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcuanMiLCAiYnVpbGQvdXRpbHMuanMiLCAiYnVpbGQvY29uZmlnL2RlZmluZS5qcyIsICJidWlsZC9wbHVnaW4vaW5kZXguanMiLCAiYnVpbGQvcGx1Z2luL2h0bWwuanMiLCAiYnVpbGQvcGx1Z2luL3VucGx1Z2luLmpzIiwgImJ1aWxkL2NvbnN0YW50LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiL0xpYnJhcnkvR2l0aHViL01lbW9yeS93ZWJcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL3ZpdGUuY29uZmlnLmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL3ZpdGUuY29uZmlnLmpzXCI7aW1wb3J0IHsgZGVmaW5lQ29uZmlnLCBsb2FkRW52IH0gZnJvbSAndml0ZSdcblxuaW1wb3J0IHsgY29udmVydEVudiwgZ2V0U3JjUGF0aCwgZ2V0Um9vdFBhdGggfSBmcm9tICcuL2J1aWxkL3V0aWxzJ1xuaW1wb3J0IHsgdml0ZURlZmluZSB9IGZyb20gJy4vYnVpbGQvY29uZmlnJ1xuaW1wb3J0IHsgY3JlYXRlVml0ZVBsdWdpbnMgfSBmcm9tICcuL2J1aWxkL3BsdWdpbidcbmltcG9ydCB7IE9VVFBVVF9ESVIsIFBST1hZX0NPTkZJRyB9IGZyb20gJy4vYnVpbGQvY29uc3RhbnQnXG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZygoeyBjb21tYW5kLCBtb2RlIH0pID0+IHtcbiAgY29uc3Qgc3JjUGF0aCA9IGdldFNyY1BhdGgoKVxuICBjb25zdCByb290UGF0aCA9IGdldFJvb3RQYXRoKClcbiAgY29uc3QgaXNCdWlsZCA9IGNvbW1hbmQgPT09ICdidWlsZCdcblxuICBjb25zdCBlbnYgPSBsb2FkRW52KG1vZGUsIHByb2Nlc3MuY3dkKCkpXG4gIGNvbnN0IHZpdGVFbnYgPSBjb252ZXJ0RW52KGVudilcbiAgY29uc3QgeyBWSVRFX1BPUlQsIFZJVEVfUFVCTElDX1BBVEgsIFZJVEVfVVNFX1BST1hZLCBWSVRFX0JBU0VfQVBJIH0gPSB2aXRlRW52XG5cbiAgcmV0dXJuIHtcbiAgICBiYXNlOiBWSVRFX1BVQkxJQ19QQVRIIHx8ICcvJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBhbGlhczoge1xuICAgICAgICAnfic6IHJvb3RQYXRoLFxuICAgICAgICAnQCc6IHNyY1BhdGgsXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGVmaW5lOiB2aXRlRGVmaW5lLFxuICAgIHBsdWdpbnM6IGNyZWF0ZVZpdGVQbHVnaW5zKHZpdGVFbnYsIGlzQnVpbGQpLFxuICAgIHNlcnZlcjoge1xuICAgICAgaG9zdDogJzAuMC4wLjAnLFxuICAgICAgcG9ydDogVklURV9QT1JULFxuICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgIHByb3h5OiBWSVRFX1VTRV9QUk9YWVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIFtWSVRFX0JBU0VfQVBJXTogUFJPWFlfQ09ORklHW1ZJVEVfQkFTRV9BUEldLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBjc3M6IHtcbiAgICAgIHByZXByb2Nlc3Nvck9wdGlvbnM6IHtcbiAgICAgICAgc2Nzczoge1xuICAgICAgICAgIGFwaTogJ21vZGVybi1jb21waWxlcicsIC8vIFx1NEY3Rlx1NzUyOFx1NzNCMFx1NEVFM1x1N0YxNlx1OEJEMVx1NTY2OEFQSVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIGJ1aWxkOiB7XG4gICAgICB0YXJnZXQ6ICdlczIwMTUnLFxuICAgICAgb3V0RGlyOiBPVVRQVVRfRElSIHx8ICdkaXN0JyxcbiAgICAgIHJlcG9ydENvbXByZXNzZWRTaXplOiBmYWxzZSwgLy8gXHU1NDJGXHU3NTI4L1x1Nzk4MVx1NzUyOCBnemlwIFx1NTM4Qlx1N0YyOVx1NTkyN1x1NUMwRlx1NjJBNVx1NTQ0QVxuICAgICAgY2h1bmtTaXplV2FybmluZ0xpbWl0OiAxMDI0LCAvLyBjaHVuayBcdTU5MjdcdTVDMEZcdThCNjZcdTU0NEFcdTc2ODRcdTk2NTBcdTUyMzZcdUZGMDhcdTUzNTVcdTRGNERrYlx1RkYwOVxuICAgIH0sXG4gIH1cbn0pXG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvTGlicmFyeS9HaXRodWIvTWVtb3J5L3dlYi9idWlsZC91dGlscy5qc1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vTGlicmFyeS9HaXRodWIvTWVtb3J5L3dlYi9idWlsZC91dGlscy5qc1wiO2ltcG9ydCBmcyBmcm9tICdmcydcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudidcblxuLyoqXG4gKiAqIFx1OTg3OVx1NzZFRVx1NjgzOVx1OERFRlx1NUY4NFxuICogQGRlc2NyaXRpb24gXHU3RUQzXHU1QzNFXHU0RTBEXHU1RTI2L1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9vdFBhdGgoKSB7XG4gIHJldHVybiBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSlcbn1cblxuLyoqXG4gKiAqIFx1OTg3OVx1NzZFRXNyY1x1OERFRlx1NUY4NFxuICogQHBhcmFtIHNyY05hbWUgc3JjXHU3NkVFXHU1RjU1XHU1NDBEXHU3OUYwKFx1OUVEOFx1OEJBNDogXCJzcmNcIilcbiAqIEBkZXNjcml0aW9uIFx1N0VEM1x1NUMzRVx1NEUwRFx1NUUyNlx1NjU5Q1x1Njc2MFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3JjUGF0aChzcmNOYW1lID0gJ3NyYycpIHtcbiAgcmV0dXJuIHBhdGgucmVzb2x2ZShnZXRSb290UGF0aCgpLCBzcmNOYW1lKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEVudihlbnZPcHRpb25zKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9XG4gIGlmICghZW52T3B0aW9ucykgcmV0dXJuIHJlc3VsdFxuXG4gIGZvciAoY29uc3QgZW52S2V5IGluIGVudk9wdGlvbnMpIHtcbiAgICBsZXQgZW52VmFsID0gZW52T3B0aW9uc1tlbnZLZXldXG4gICAgaWYgKFsndHJ1ZScsICdmYWxzZSddLmluY2x1ZGVzKGVudlZhbCkpIGVudlZhbCA9IGVudlZhbCA9PT0gJ3RydWUnXG5cbiAgICBpZiAoWydWSVRFX1BPUlQnXS5pbmNsdWRlcyhlbnZLZXkpKSBlbnZWYWwgPSArZW52VmFsXG5cbiAgICByZXN1bHRbZW52S2V5XSA9IGVudlZhbFxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuLyoqXG4gKiBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTczQUZcdTU4ODNcdTRFMEJcdTc1MUZcdTY1NDhcdTc2ODRcdTkxNERcdTdGNkVcdTY1ODdcdTRFRjZcdTU0MERcbiAqL1xuZnVuY3Rpb24gZ2V0Q29uZkZpbGVzKCkge1xuICBjb25zdCBzY3JpcHQgPSBwcm9jZXNzLmVudi5ucG1fbGlmZWN5Y2xlX3NjcmlwdFxuICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKCctLW1vZGUgKFthLXpfXFxcXGRdKyknKVxuICBjb25zdCByZXN1bHQgPSByZWcuZXhlYyhzY3JpcHQpXG4gIGlmIChyZXN1bHQpIHtcbiAgICBjb25zdCBtb2RlID0gcmVzdWx0WzFdXG4gICAgcmV0dXJuIFsnLmVudicsICcuZW52LmxvY2FsJywgYC5lbnYuJHttb2RlfWBdXG4gIH1cbiAgcmV0dXJuIFsnLmVudicsICcuZW52LmxvY2FsJywgJy5lbnYucHJvZHVjdGlvbiddXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZDb25maWcobWF0Y2ggPSAnVklURV8nLCBjb25mRmlsZXMgPSBnZXRDb25mRmlsZXMoKSkge1xuICBsZXQgZW52Q29uZmlnID0ge31cbiAgY29uZkZpbGVzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMocGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksIGl0ZW0pKSkge1xuICAgICAgICBjb25zdCBlbnYgPSBkb3RlbnYucGFyc2UoZnMucmVhZEZpbGVTeW5jKHBhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCBpdGVtKSkpXG4gICAgICAgIGVudkNvbmZpZyA9IHsgLi4uZW52Q29uZmlnLCAuLi5lbnYgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIHBhcnNpbmcgJHtpdGVtfWAsIGUpXG4gICAgfVxuICB9KVxuICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKGBeKCR7bWF0Y2h9KWApXG4gIE9iamVjdC5rZXlzKGVudkNvbmZpZykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKCFyZWcudGVzdChrZXkpKSB7XG4gICAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGVudkNvbmZpZywga2V5KVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGVudkNvbmZpZ1xufVxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvTGlicmFyeS9HaXRodWIvTWVtb3J5L3dlYi9idWlsZC9jb25maWdcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL2NvbmZpZy9kZWZpbmUuanNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL0xpYnJhcnkvR2l0aHViL01lbW9yeS93ZWIvYnVpbGQvY29uZmlnL2RlZmluZS5qc1wiO2ltcG9ydCBkYXlqcyBmcm9tICdkYXlqcydcblxuLyoqXG4gKiAqIFx1NkI2NFx1NTkwNFx1NUI5QVx1NEU0OVx1NzY4NFx1NjYyRlx1NTE2OFx1NUM0MFx1NUUzOFx1OTFDRlx1RkYwQ1x1NTQyRlx1NTJBOFx1NjIxNlx1NjI1M1x1NTMwNVx1NTQwRVx1NUMwNlx1NkRGQlx1NTJBMFx1NTIzMHdpbmRvd1x1NEUyRFxuICogaHR0cHM6Ly92aXRlanMuY24vY29uZmlnLyNkZWZpbmVcbiAqL1xuXG4vLyBcdTk4NzlcdTc2RUVcdTY3ODRcdTVFRkFcdTY1RjZcdTk1RjRcbmNvbnN0IF9CVUlMRF9USU1FXyA9IEpTT04uc3RyaW5naWZ5KGRheWpzKCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykpXG5cbmV4cG9ydCBjb25zdCB2aXRlRGVmaW5lID0ge1xuICBfQlVJTERfVElNRV8sXG59XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL3BsdWdpblwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL0xpYnJhcnkvR2l0aHViL01lbW9yeS93ZWIvYnVpbGQvcGx1Z2luL2luZGV4LmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL3BsdWdpbi9pbmRleC5qc1wiO2ltcG9ydCB2dWUgZnJvbSAnQHZpdGVqcy9wbHVnaW4tdnVlJ1xuXG4vKipcbiAqICogdW5vY3NzXHU2M0QyXHU0RUY2XHVGRjBDXHU1MzlGXHU1QjUwY3NzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW50ZnUvdW5vY3NzXG4gKi9cbmltcG9ydCBVbm9jc3MgZnJvbSAndW5vY3NzL3ZpdGUnXG5cbi8vIHJvbGx1cFx1NjI1M1x1NTMwNVx1NTIwNlx1Njc5MFx1NjNEMlx1NEVGNlxuaW1wb3J0IHsgdmlzdWFsaXplciB9IGZyb20gJ3JvbGx1cC1wbHVnaW4tdmlzdWFsaXplcidcbi8vIFx1NTM4Qlx1N0YyOVxuaW1wb3J0IHZpdGVDb21wcmVzc2lvbiBmcm9tICd2aXRlLXBsdWdpbi1jb21wcmVzc2lvbidcbi8vIFx1NTZGRVx1NzI0N1x1NTM4Qlx1N0YyOVxuaW1wb3J0IHZpdGVJbWFnZW1pbiBmcm9tICd2aXRlLXBsdWdpbi1pbWFnZW1pbidcblxuaW1wb3J0IHsgY29uZmlnSHRtbFBsdWdpbiB9IGZyb20gJy4vaHRtbCdcbmltcG9ydCB1bnBsdWdpbiBmcm9tICcuL3VucGx1Z2luJ1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVml0ZVBsdWdpbnModml0ZUVudiwgaXNCdWlsZCkge1xuICBjb25zdCBwbHVnaW5zID0gW3Z1ZSgpLCAuLi51bnBsdWdpbiwgY29uZmlnSHRtbFBsdWdpbih2aXRlRW52LCBpc0J1aWxkKSwgVW5vY3NzKCldXG5cbiAgaWYgKHZpdGVFbnYuVklURV9VU0VfQ09NUFJFU1MpIHtcbiAgICBwbHVnaW5zLnB1c2godml0ZUNvbXByZXNzaW9uKHsgYWxnb3JpdGhtOiB2aXRlRW52LlZJVEVfQ09NUFJFU1NfVFlQRSB8fCAnZ3ppcCcgfSkpXG4gIH1cblxuICBpZiAoaXNCdWlsZCkge1xuICAgIHBsdWdpbnMucHVzaChcbiAgICAgIHZpc3VhbGl6ZXIoe1xuICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICBnemlwU2l6ZTogdHJ1ZSxcbiAgICAgICAgYnJvdGxpU2l6ZTogdHJ1ZSxcbiAgICAgIH0pLFxuICAgICAgLy8gXHU1NkZFXHU3MjQ3XHU1MzhCXHU3RjI5XHU2M0QyXHU0RUY2XG4gICAgICB2aXRlSW1hZ2VtaW4oe1xuICAgICAgICBnaWZzaWNsZTogeyBvcHRpbWl6YXRpb25MZXZlbDogNywgaW50ZXJsYWNlZDogZmFsc2UgfSxcbiAgICAgICAgbW96anBlZzogeyBxdWFsaXR5OiA4MCB9LFxuICAgICAgICBwbmdxdWFudDogeyBxdWFsaXR5OiBbMC42NSwgMC44XSwgc3BlZWQ6IDQgfSxcbiAgICAgICAgd2VicDogeyBxdWFsaXR5OiA3NSB9LFxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGx1Z2luc1xufVxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvTGlicmFyeS9HaXRodWIvTWVtb3J5L3dlYi9idWlsZC9wbHVnaW5cIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL3BsdWdpbi9odG1sLmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL3BsdWdpbi9odG1sLmpzXCI7aW1wb3J0IHsgY3JlYXRlSHRtbFBsdWdpbiB9IGZyb20gJ3ZpdGUtcGx1Z2luLWh0bWwnXG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWdIdG1sUGx1Z2luKHZpdGVFbnYsIGlzQnVpbGQpIHtcbiAgY29uc3QgeyBWSVRFX1RJVExFIH0gPSB2aXRlRW52XG5cbiAgY29uc3QgaHRtbFBsdWdpbiA9IGNyZWF0ZUh0bWxQbHVnaW4oe1xuICAgIG1pbmlmeTogaXNCdWlsZCxcbiAgICBpbmplY3Q6IHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdGl0bGU6IFZJVEVfVElUTEUsXG4gICAgICB9LFxuICAgIH0sXG4gIH0pXG4gIHJldHVybiBodG1sUGx1Z2luXG59XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL3BsdWdpblwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL0xpYnJhcnkvR2l0aHViL01lbW9yeS93ZWIvYnVpbGQvcGx1Z2luL3VucGx1Z2luLmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL3BsdWdpbi91bnBsdWdpbi5qc1wiO2ltcG9ydCB7IHJlc29sdmUgfSBmcm9tICdwYXRoJ1xuaW1wb3J0IEF1dG9JbXBvcnQgZnJvbSAndW5wbHVnaW4tYXV0by1pbXBvcnQvdml0ZSdcbmltcG9ydCBDb21wb25lbnRzIGZyb20gJ3VucGx1Z2luLXZ1ZS1jb21wb25lbnRzL3ZpdGUnXG5pbXBvcnQgeyBOYWl2ZVVpUmVzb2x2ZXIgfSBmcm9tICd1bnBsdWdpbi12dWUtY29tcG9uZW50cy9yZXNvbHZlcnMnXG5pbXBvcnQgeyBGaWxlU3lzdGVtSWNvbkxvYWRlciB9IGZyb20gJ3VucGx1Z2luLWljb25zL2xvYWRlcnMnXG5pbXBvcnQgSWNvbnNSZXNvbHZlciBmcm9tICd1bnBsdWdpbi1pY29ucy9yZXNvbHZlcidcblxuLyoqXG4gKiAqIHVucGx1Z2luLWljb25zXHU2M0QyXHU0RUY2XHVGRjBDXHU4MUVBXHU1MkE4XHU1RjE1XHU1MTY1aWNvbmlmeVx1NTZGRVx1NjgwN1xuICogdXNhZ2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRmdS91bnBsdWdpbi1pY29uc1xuICogXHU1NkZFXHU2ODA3XHU1RTkzOiBodHRwczovL2ljb25lcy5qcy5vcmcvXG4gKi9cbmltcG9ydCBJY29ucyBmcm9tICd1bnBsdWdpbi1pY29ucy92aXRlJ1xuaW1wb3J0IHsgY3JlYXRlU3ZnSWNvbnNQbHVnaW4gfSBmcm9tICd2aXRlLXBsdWdpbi1zdmctaWNvbnMnXG5cbmltcG9ydCB7IGdldFNyY1BhdGggfSBmcm9tICcuLi91dGlscydcblxuY29uc3QgY3VzdG9tSWNvblBhdGggPSByZXNvbHZlKGdldFNyY1BhdGgoKSwgJ2Fzc2V0cy9zdmcnKVxuXG5leHBvcnQgZGVmYXVsdCBbXG4gIEF1dG9JbXBvcnQoe1xuICAgIGltcG9ydHM6IFsndnVlJywgJ3Z1ZS1yb3V0ZXInXSxcbiAgICBkdHM6IGZhbHNlLFxuICB9KSxcbiAgSWNvbnMoe1xuICAgIGNvbXBpbGVyOiAndnVlMycsXG4gICAgY3VzdG9tQ29sbGVjdGlvbnM6IHtcbiAgICAgIGN1c3RvbTogRmlsZVN5c3RlbUljb25Mb2FkZXIoY3VzdG9tSWNvblBhdGgpLFxuICAgIH0sXG4gICAgc2NhbGU6IDEsXG4gICAgZGVmYXVsdENsYXNzOiAnaW5saW5lLWJsb2NrJyxcbiAgfSksXG4gIENvbXBvbmVudHMoe1xuICAgIHJlc29sdmVyczogW1xuICAgICAgTmFpdmVVaVJlc29sdmVyKCksXG4gICAgICBJY29uc1Jlc29sdmVyKHsgY3VzdG9tQ29sbGVjdGlvbnM6IFsnY3VzdG9tJ10sIGNvbXBvbmVudFByZWZpeDogJ2ljb24nIH0pLFxuICAgIF0sXG4gICAgZHRzOiBmYWxzZSxcbiAgfSksXG4gIGNyZWF0ZVN2Z0ljb25zUGx1Z2luKHtcbiAgICBpY29uRGlyczogW2N1c3RvbUljb25QYXRoXSxcbiAgICBzeW1ib2xJZDogJ2ljb24tY3VzdG9tLVtkaXJdLVtuYW1lXScsXG4gICAgaW5qZWN0OiAnYm9keS1sYXN0JyxcbiAgICBjdXN0b21Eb21JZDogJ19fQ1VTVE9NX1NWR19JQ09OX18nLFxuICB9KSxcbl1cbiIsICJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiL0xpYnJhcnkvR2l0aHViL01lbW9yeS93ZWIvYnVpbGRcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL2NvbnN0YW50LmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9MaWJyYXJ5L0dpdGh1Yi9NZW1vcnkvd2ViL2J1aWxkL2NvbnN0YW50LmpzXCI7ZXhwb3J0IGNvbnN0IE9VVFBVVF9ESVIgPSAnLi4vZGlzdCdcblxuZXhwb3J0IGNvbnN0IFBST1hZX0NPTkZJRyA9IHtcbiAgJy9hcGkvdjEnOiB7XG4gICAgdGFyZ2V0OiAnaHR0cDovLzEyNy4wLjAuMTo5OTk5JyxcbiAgICBjaGFuZ2VPcmlnaW46IHRydWUsXG4gIH0sXG59XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQWdRLFNBQVMsY0FBYyxlQUFlOzs7QUNDdFMsT0FBTyxVQUFVO0FBQ2pCLE9BQU8sWUFBWTtBQU1aLFNBQVMsY0FBYztBQUM1QixTQUFPLEtBQUssUUFBUSxRQUFRLElBQUksQ0FBQztBQUNuQztBQU9PLFNBQVMsV0FBVyxVQUFVLE9BQU87QUFDMUMsU0FBTyxLQUFLLFFBQVEsWUFBWSxHQUFHLE9BQU87QUFDNUM7QUFFTyxTQUFTLFdBQVcsWUFBWTtBQUNyQyxRQUFNLFNBQVMsQ0FBQztBQUNoQixNQUFJLENBQUMsV0FBWSxRQUFPO0FBRXhCLGFBQVcsVUFBVSxZQUFZO0FBQy9CLFFBQUksU0FBUyxXQUFXLE1BQU07QUFDOUIsUUFBSSxDQUFDLFFBQVEsT0FBTyxFQUFFLFNBQVMsTUFBTSxFQUFHLFVBQVMsV0FBVztBQUU1RCxRQUFJLENBQUMsV0FBVyxFQUFFLFNBQVMsTUFBTSxFQUFHLFVBQVMsQ0FBQztBQUU5QyxXQUFPLE1BQU0sSUFBSTtBQUFBLEVBQ25CO0FBQ0EsU0FBTztBQUNUOzs7QUNsQzZSLE9BQU8sV0FBVztBQVEvUyxJQUFNLGVBQWUsS0FBSyxVQUFVLE1BQU0sRUFBRSxPQUFPLHFCQUFxQixDQUFDO0FBRWxFLElBQU0sYUFBYTtBQUFBLEVBQ3hCO0FBQ0Y7OztBQ1oyUixPQUFPLFNBQVM7QUFNM1MsT0FBTyxZQUFZO0FBR25CLFNBQVMsa0JBQWtCO0FBRTNCLE9BQU8scUJBQXFCO0FBRTVCLE9BQU8sa0JBQWtCOzs7QUNiZ1EsU0FBUyx3QkFBd0I7QUFFblQsU0FBUyxpQkFBaUIsU0FBUyxTQUFTO0FBQ2pELFFBQU0sRUFBRSxXQUFXLElBQUk7QUFFdkIsUUFBTSxhQUFhLGlCQUFpQjtBQUFBLElBQ2xDLFFBQVE7QUFBQSxJQUNSLFFBQVE7QUFBQSxNQUNOLE1BQU07QUFB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
